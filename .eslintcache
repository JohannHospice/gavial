[{"C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\index.js":"1","C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\reportWebVitals.js":"2","C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\components\\Reader\\index.jsx":"3","C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\components\\App\\index.jsx":"4"},{"size":528,"mtime":1612131124755,"results":"5","hashOfConfig":"6"},{"size":375,"mtime":1612131124757,"results":"7","hashOfConfig":"6"},{"size":4951,"mtime":1612131124752,"results":"8","hashOfConfig":"6"},{"size":10570,"mtime":1612131124744,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"chik2m",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\index.js",[],["20","21"],"C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\reportWebVitals.js",[],"C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\components\\Reader\\index.jsx",["22","23"],"import { useCallback, useEffect, useState } from \"react\";\r\nimport { Box, IconButton, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  imgBox: {\r\n    \"&::after\": {\r\n      content: \"Voyez cette boÃ®te orange.\",\r\n      backgroundColor: \"#FFBA10\",\r\n      borderColor: \"black\",\r\n      borderStyle: \"dotted\",\r\n      height: \"100px\",\r\n      width: \"100px\",\r\n      display: \"block\",\r\n      position: \"relative\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst scrollToPage = (inverse) => {\r\n  const next = Array.from(document.querySelectorAll(\".Reader-page\")).reduce(\r\n    (acc, cur) => {\r\n      if (acc) {\r\n        if (inverse) {\r\n          const { bottom: curTop } = cur.getBoundingClientRect();\r\n          const { bottom: accTop } = acc.getBoundingClientRect();\r\n          if (accTop < curTop && accTop >= 0) return acc;\r\n        } else {\r\n          const { top: curTop } = cur.getBoundingClientRect();\r\n          const { top: accTop } = acc.getBoundingClientRect();\r\n          if (accTop < curTop && accTop > 0) return acc;\r\n        }\r\n      }\r\n      return cur;\r\n    },\r\n    undefined\r\n  );\r\n\r\n  if (next) next.scrollIntoView();\r\n};\r\n\r\nfunction Reader({ links }) {\r\n  const theme = useTheme();\r\n  const [index, setIndex] = useState(0);\r\n  const classes = useStyles();\r\n  console.log(links);\r\n  const previousPage = () => index > 0 && setIndex(index - 2);\r\n  const nextPage = () => index < links.length - 1 && setIndex(index + 2);\r\n\r\n  const handleUserKeyPress = useCallback(\r\n    (event) => {\r\n      console.log(event.key, index);\r\n      if (event.key === \"ArrowLeft\") {\r\n        event.preventDefault();\r\n        previousPage();\r\n      }\r\n      if (event.key === \"ArrowRight\") {\r\n        event.preventDefault();\r\n        nextPage();\r\n      }\r\n    },\r\n    [index]\r\n  );\r\n\r\n  const goTop = () => window.scroll(0, 0);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleUserKeyPress);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleUserKeyPress);\r\n    };\r\n  }, [handleUserKeyPress]);\r\n\r\n  useEffect(() => {\r\n    setIndex(0);\r\n  }, [links]);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={0}\r\n      id=\"reader\"\r\n      style={{\r\n        position: \"relative\",\r\n        justifyContent: \"flex-end\",\r\n        // height: \"100vh\",\r\n      }}\r\n    >\r\n      <Box\r\n        style={{\r\n          position: \"absolute\",\r\n          bottom: 0,\r\n          top: 0,\r\n          left: theme.spacing(2),\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <IconButton\r\n          color=\"secondary\"\r\n          disabled={index <= 0}\r\n          onClick={previousPage}\r\n        >\r\n          <ChevronLeftIcon fontSize=\"large\" />\r\n        </IconButton>\r\n      </Box>\r\n      <Box\r\n        style={{\r\n          position: \"absolute\",\r\n          bottom: 0,\r\n          top: 0,\r\n          right: theme.spacing(2),\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <IconButton\r\n          color=\"secondary\"\r\n          disabled={index >= links.length + 1}\r\n          onClick={nextPage}\r\n        >\r\n          <ChevronRightIcon fontSize=\"large\" />\r\n        </IconButton>\r\n      </Box>\r\n      <Box\r\n        style={{\r\n          position: \"absolute\",\r\n          bottom: theme.spacing(2),\r\n          right: theme.spacing(2),\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <IconButton color=\"default\" onClick={goTop}>\r\n          <KeyboardArrowUpIcon fontSize=\"large\" />\r\n        </IconButton>\r\n      </Box>\r\n\r\n      {links &&\r\n        links.map((link, i) => (\r\n          <Grid\r\n            style={{\r\n              display: index === i || index === i + 1 ? \"flex\" : \"none\",\r\n              height: \"100vmin\",\r\n            }}\r\n            container\r\n            item\r\n            xs={6}\r\n            justify={i % 2 && \"flex-end\"}\r\n            display=\"flex\"\r\n          >\r\n            <Box\r\n              className={classes.imgBox}\r\n              style={{\r\n                background: `url(${link}) no-repeat center`,\r\n                backgroundSize: \"contain\",\r\n                width: \"100%\",\r\n                backgroundPositionX: i % 2 ? \"right\" : \"left\",\r\n              }}\r\n            >\r\n              {/* <img\r\n                src={link}\r\n                alt=\"page 1\"\r\n                key={i}\r\n                style={{ maxHeight: \"100vh\", maxWidth: \"49vw\" }}\r\n              /> */}\r\n            </Box>\r\n          </Grid>\r\n        ))}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Reader;\r\n","C:\\Users\\johann.hospice\\Workspace\\manga-crawler\\gavial\\src\\components\\App\\index.jsx",[],{"ruleId":"24","replacedBy":"25"},{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","severity":1,"message":"29","line":23,"column":7,"nodeType":"30","messageId":"31","endLine":23,"endColumn":19},{"ruleId":"32","severity":1,"message":"33","line":65,"column":5,"nodeType":"34","endLine":65,"endColumn":12,"suggestions":"35"},"no-native-reassign",["36"],"no-negated-in-lhs",["37"],"no-unused-vars","'scrollToPage' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'nextPage' and 'previousPage'. Either include them or remove the dependency array.","ArrayExpression",["38"],"no-global-assign","no-unsafe-negation",{"desc":"39","fix":"40"},"Update the dependencies array to be: [index, nextPage, previousPage]",{"range":"41","text":"42"},[2072,2079],"[index, nextPage, previousPage]"]